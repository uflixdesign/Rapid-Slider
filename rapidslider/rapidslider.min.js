!function(i){i.fn.rapidslider=function(n){return this.each(function(){var d=i(this),s=d.data("rapidslider-instance");(void 0===s||s)&&d.data("rapidslider-instance",new t(d,i.extend({},e,n)))})},i.fn.rapidslider.getInstance=function(){return el.data("rapidslider-instance")}
var e={autoplay:!1,loop:!0,start:0,speed:400,pause:3500,beforeSlide:function(){},afterSlide:function(){}},t=function(e,t){var n=this
n.currentSlideIndex=parseInt(t.start),n.sliding=!1
var d=e.find(".rapidslider-slides"),s=e.find(".rapidslider-slide"),a=e.find(".rapidslider-pagination"),r=null
n.init=function(){d.height(e.height()),n.events(),n.resize(),i(window).resize(function(){n.resize()}),n.pagination(),t.autoplay&&(r&&clearTimeout(r),r=setTimeout(n.next,t.pause)),n.setSlide(s.eq(n.currentSlideIndex))},n.pagination=function(){pages=""
for(var i=1;i<=s.length;i++)pages+="<li>"+i+"</li>"
a.append(pages)},n.events=function(){e.on("click",".rapidslider-next",function(i){n.next()}),e.on("click",".rapidslider-prev",function(i){n.next()}),a.on("click","li",function(i){var e=a.find("li").index(this)
console.log(e),n.show(e)})},n.resize=function(){d.height(e.height()),s.each(function(e,t){var n=i(t),d=n.find(".rapidslider-slide-image"),s=new Image
!function(i,e){i.onload=function(){var t=n.width()/n.height(),d=i.width/i.height
t>d?(e.width(n.width()),e.height(1/d*n.width()),e.css("margin-top",-(e.height()-n.height())/2+"px"),e.css("margin-left","0px")):(e.height(n.height()),e.width(d*n.height()),e.css("margin-top","0px"),e.css("margin-left",-(e.width()-n.width())/2+"px"))},i.src=e.attr("src")}(s,d)})},n.next=function(){var i=n.currentSlideIndex+1
if(i>=s.length){if(!t.loop)return
i=0}n.show(i)},n.show=function(i){if(console.log("SLIDE TO: ",i),!(n.sliding||i>=s.length||n.currentSlideIndex==i)){e.trigger("rs.beforeSlide",[n.currentSlideIndex,i]),n.sliding=!0
var d=s.eq(n.currentSlideIndex),a=s.eq(i)
a.removeClass("active").addClass("slide-in").css({top:e.height()+"px"}).animate({top:"0px"},t.speed),d.addClass("slide-out").css({top:"0px"}).animate({top:-e.height()+"px"},t.speed,function(){n.unsetSlide(d),n.setSlide(a)
n.currentSlideIndex=i,n.sliding=!1,e.trigger("rs.afterSlide",[i,void 0]),t.autoplay&&(r&&clearTimeout(r),r=setTimeout(n.next,t.pause))})}},n.unsetSlide=function(i){i.removeClass("slide-out")},n.setSlide=function(i){if(i&&i.length){var t=s.index(i)
a.find("li.active").removeClass("active"),a.find("li").eq(t).addClass("active"),i.removeClass("slide-in").addClass("active")
var n=i.find(".rapidslider-slide-image").attr("title")
e.find(".rapidslider-caption").html(n)}},n.init()}}(jQuery)
